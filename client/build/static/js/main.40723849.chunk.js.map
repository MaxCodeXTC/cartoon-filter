{"version":3,"sources":["App.js","index.js"],"names":["App","useState","originalImageUrl","setOriginalImageUrl","filteredImageUrl","setFilteredImageUrl","uploadedImg","setUploadedImg","closeModal","modal","document","querySelector","overlay","classList","remove","filterImage","file","a","fetch","method","headers","Accept","body","JSON","stringify","img","image","blob","objectURL","URL","createObjectURL","useEffect","cb","myReader","FileReader","type","match","readAsDataURL","onloadend","e","result","convertToBase64String","add","className","onClick","getElementById","click","id","onChange","target","files","accept","style","display","class","src","href","download","ReactDOM","render","StrictMode"],"mappings":"yPAoGeA,G,MAjGL,WAAO,IAAD,EAEiCC,mBAAS,IAF1C,mBAEPC,EAFO,KAEWC,EAFX,OAGiCF,mBAAS,IAH1C,mBAGPG,EAHO,KAGWC,EAHX,OAIuBJ,mBAAS,IAJhC,mBAIPK,EAJO,KAIMC,EAJN,KAURC,EAAY,WACdH,EAAoB,IACpB,IAAMI,EAAOC,SAASC,cAAc,UAC9BC,EAASF,SAASC,cAAc,YACtCF,EAAMI,UAAUC,OAAO,QACvBF,EAAQC,UAAUC,OAAO,SAavBC,EAAW,uCAAE,WAAOC,GAAP,iBAAAC,EAAA,6DACjBd,EAAoBa,GADH,SAEAE,MAAM,UAAW,CAChCC,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,IAAKT,MATQ,cAEbU,EAFa,gBAYJA,EAAMC,OAZF,OAYjBD,EAZiB,OAaXE,EAAYC,IAAIC,gBAAgBJ,GACtCrB,EAAoBuB,GAdH,2CAAF,sDA8BjB,OAbAG,qBAAU,WAIR,GAAGzB,EAAY,CACb,IAAMG,EAAOC,SAASC,cAAc,UAC9BC,EAASF,SAASC,cAAc,aAjCb,SAACK,EAAMgB,GAClC,IAAIC,EAAW,IAAIC,WACflB,GAAQA,EAAKmB,KAAKC,MAAM,YAC1BH,EAASI,cAAcrB,GAEzBiB,EAASK,UAAY,SAAUC,GAC3BP,EAAGC,EAASO,SAuBdC,CAAsBnC,EAAaS,GAMnCN,EAAMI,UAAU6B,IAAI,QACpB9B,EAAQC,UAAU6B,IAAI,WAEvB,CAACpC,IAGF,sBAAKqC,UAAU,MAAf,UACE,qBAAKA,UAAU,UAAUC,QAASpC,IAClC,sBAAKmC,UAAU,OAAf,WACOvC,GACD,qCACE,qBAAKuC,UAAU,QAAf,4BACA,wBAAQA,UAAU,SAASC,QAAS,kBAAIlC,SAASmC,eAAe,eAAeC,SAA/E,6BAGJ,uBAAOX,KAAK,OAAOY,GAAG,cAAcC,SA9D3B,SAACT,GAChBhC,EAAegC,EAAEU,OAAOC,MAAM,KA8DtBC,OAAO,uDAAuDC,MAAO,CAACC,QAAQ,UAChF,qBAAKV,UAAU,QAAf,SAEIvC,GACA,qCACE,qBAAKuC,UAAU,cAAcC,QAASpC,EAAtC,SACE,mBAAG8C,MAAM,mBAEX,qBAAKX,UAAU,cAAf,qCACA,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,qBAAKY,IAAKrD,EAAkB6C,GAAG,WAAWJ,UAAU,mBACpD,iCAAQ,oBAAGA,UAAU,eAAea,KAAMpD,EAAkBqD,SAAS,eAA7D,+BAA8F,mBAAGH,MAAM,qCAEjH,qBAAKC,IAAK,kBAAmBZ,UAAU,gBACvC,sBAAKA,UAAU,wBAAf,UACE,qBAAKY,IAAKnD,EAAkB2C,GAAG,UAAUJ,UAAU,kBACnD,iCAAQ,oBAAGA,UAAU,eAAea,KAAMpD,EAAkBqD,SAAS,qBAA7D,sBAA2F,mBAAGH,MAAM,qDCpFhII,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJlD,SAASmC,eAAe,W","file":"static/js/main.40723849.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './App.css';\n\nconst App=() => {\n\n  const [originalImageUrl, setOriginalImageUrl]= useState('')\n  const [filteredImageUrl, setFilteredImageUrl]= useState('')\n  const [uploadedImg, setUploadedImg]= useState('')\n\n  const uploadImg= (e) => {\n    setUploadedImg(e.target.files[0])\n  }\n\n  const closeModal= () => {\n      setFilteredImageUrl('')\n      const modal= document.querySelector('.modal')\n      const overlay= document.querySelector('.overlay')\n      modal.classList.remove('show')\n      overlay.classList.remove('show')\n  }\n\n  const convertToBase64String= (file, cb) => {\n    let myReader = new FileReader()\n    if (file && file.type.match('image.*')) {\n      myReader.readAsDataURL(file);\n    }\n    myReader.onloadend = function (e) {\n        cb(myReader.result);\n    };\n  }\n\n  const filterImage= async (file) => {\n    setOriginalImageUrl(file)\n    let image= await fetch('/filter', {\n      method: 'POST',\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        img: file\n      })\n    })\n    image= await image.blob()\n    const objectURL = URL.createObjectURL(image)\n    setFilteredImageUrl(objectURL)\n  }\n\n  useEffect(()=>{\n    const uploadFileHandler= () => {\n      convertToBase64String(uploadedImg, filterImage)\n    }\n    if(uploadedImg){\n      const modal= document.querySelector('.modal')\n      const overlay= document.querySelector('.overlay')\n      uploadFileHandler()\n      modal.classList.add('show')\n      overlay.classList.add('show')\n    }\n  }, [uploadedImg])\n\n  return (\n    <div className=\"App\">\n      <div className='overlay' onClick={closeModal}></div>\n      <div className=\"main\">\n          { !filteredImageUrl &&\n            <>\n              <div className='title'>Cartoon Filter</div>\n              <button className=\"upload\" onClick={()=>document.getElementById('uploadImage').click()}>Upload Image</button>\n            </>\n          }   \n          <input type=\"file\" id=\"uploadImage\" onChange={uploadImg}\n            accept=\"image/x-png,image/gif,image/jpeg,image/jpg,image/png\" style={{display:'none'}}></input>\n          <div className=\"modal\">\n            {\n              filteredImageUrl && \n              <>\n                <div className='closeButton' onClick={closeModal}>\n                  <i class=\"fas fa-times\"></i>\n                  </div>\n                <div className='modal-title'>Converted Successfully!</div>\n                <div className='images'>\n                  <div className='originalImageContainer'>\n                    <img src={originalImageUrl} id='original' className='original-image' />\n                    <button><a className='downloadLink' href={filteredImageUrl} download='original.png'>Download Original <i class=\"fas fa-arrow-circle-down\"></i></a></button>\n                  </div>\n                  <img src={'img/convert.png'} className='convertIcon' />\n                  <div className='cartoonImageContainer'>\n                    <img src={filteredImageUrl} id='cartoon' className='cartoon-image' />\n                    <button><a className='downloadLink' href={filteredImageUrl} download='cartoon-filter.png'>Download <i class=\"fas fa-arrow-circle-down\"></i></a></button>\n                  </div>\n                </div>\n              </>\n            }\n          </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}